<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyCXZd_-1ZGwLtOYLnWsI7govPzBzH-K_-o",
      authDomain: "node-todolist-demo.firebaseapp.com",
      databaseURL: "https://node-todolist-demo.firebaseio.com",
      projectId: "node-todolist-demo",
      storageBucket: "node-todolist-demo.appspot.com",
      messagingSenderId: "373758006509"
    };
    firebase.initializeApp(config);
    // 排序規則運用
    const people = {
      "Bob": {
        "height": "180",
        "weight": "65",
        "age": "22"
      },
      "Doni": {
        "height": "152",
        "weight": "38",
        "age": "19"
      },
      "Lank": {
        "height": "188",
        "weight": "92",
        "age": "29"
      },
      "miko": {
        "height": "149",
        "weight": "41",
        "age": "24"
      }
    };
    firebase.database().ref('people').set(people);
    let peopleRef = firebase.database().ref('people');
    // 路徑>> 排序語法('屬性')>> 讀取內容(on語法 or once語法)>> forEach依序撈出資料
    // 利用firebase的 orderByChild語法排序
    peopleRef.orderByChild('weight').once('value',function(snapshot){
      snapshot.forEach(function (node) {
        console.log(node.val());
      })
      // console.log(snapshot.val());
    })
  </script>
</body>
</html>